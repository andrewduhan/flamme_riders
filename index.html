<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <title>Flamme Rouge Rider Cards</title>
    <link rel="stylesheet" href="semantic.min.css">
</head>
<body>

<div id="svg-container" style="display: none;">
<svg
   xmlns:dc="http://purl.org/dc/elements/1.1/"
   xmlns:cc="http://creativecommons.org/ns#"
   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
   xmlns:svg="http://www.w3.org/2000/svg"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:xlink="http://www.w3.org/1999/xlink"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   width="2.4400001in"
   height="3.6700001in"
   viewBox="0 0 61.976001 93.21801"
   version="1.1"
   id="svg8"
   inkscape:version="0.92.2 5c3e80d, 2017-08-06"
   sodipodi:docname="card_template1.svg">
  <defs
     id="defs2">
    <linearGradient
       inkscape:collect="always"
       id="linearGradient3168">
      <stop
         style="stop-color:#4a3f00;stop-opacity:0"
         offset="0"
         id="stop3164" />
      <stop
         style="stop-color:#4a3800;stop-opacity:1"
         offset="1"
         id="stop3166" />
    </linearGradient>
    <linearGradient
       id="linearGradient2036"
       inkscape:collect="always">
      <stop
         id="stop2032"
         offset="0"
         style="stop-color:#52532e;stop-opacity:0" />
      <stop
         id="stop2034"
         offset="1"
         style="stop-color:#2c2e1f;stop-opacity:1" />
    </linearGradient>
    <linearGradient
       inkscape:collect="always"
       id="linearGradient1914">
      <stop
         style="stop-color:#52532e;stop-opacity:0.00970874"
         offset="0"
         id="stop1910" />
      <stop
         style="stop-color:#3b3d29;stop-opacity:1"
         offset="1"
         id="stop1912" />
    </linearGradient>
    <clipPath
       clipPathUnits="userSpaceOnUse"
       id="clipPath878">
      <rect
         style="opacity:1;fill:#ba1111;fill-opacity:1;stroke:none;stroke-width:0.25;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
         id="rect880"
         width="50.968559"
         height="81.963562"
         x="5.4585342"
         y="6.3708158"
         ry="1.7773428"
         rx="1.7773428" />
    </clipPath>
    <radialGradient
       inkscape:collect="always"
       xlink:href="#linearGradient1914"
       id="radialGradient1920"
       gradientUnits="userSpaceOnUse"
       gradientTransform="matrix(5.8506972,-1.9087327,1.2771242,3.874064,-209.25968,-86.069217)"
       cx="32.923309"
       cy="45.333817"
       fx="32.923309"
       fy="45.333817"
       r="25.48428" />
    <radialGradient
       inkscape:collect="always"
       xlink:href="#linearGradient2036"
       id="radialGradient1924"
       gradientUnits="userSpaceOnUse"
       gradientTransform="matrix(-0.44177279,-4.0282691,2.3598214,-0.26162393,-80.062606,202.75391)"
       cx="29.709513"
       cy="50.583389"
       fx="29.709513"
       fy="50.583389"
       r="25.48428" />
    <clipPath
       clipPathUnits="userSpaceOnUse"
       id="clipPath1926">
      <rect
         rx="1.7773428"
         ry="1.7773428"
         y="6.3708158"
         x="5.4585342"
         height="81.963562"
         width="50.968559"
         id="rect1928"
         style="opacity:1;fill:#ff0000;fill-opacity:1;stroke:none;stroke-width:0.25;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1" />
    </clipPath>
    <clipPath
       clipPathUnits="userSpaceOnUse"
       id="clipPath1930">
      <rect
         rx="1.7773428"
         ry="1.7773428"
         y="6.3708158"
         x="5.4585342"
         height="81.963562"
         width="50.968559"
         id="rect1932"
         style="opacity:1;fill:#ff0000;fill-opacity:1;stroke:none;stroke-width:0.25;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1" />
    </clipPath>
    <clipPath
       clipPathUnits="userSpaceOnUse"
       id="clipPath2752">
      <rect
         rx="1.7773428"
         ry="1.7773428"
         y="5.9030943"
         x="4.9931746"
         height="83.086098"
         width="51.899281"
         id="rect2754"
         style="opacity:1;fill:#ba1111;fill-opacity:1;stroke:none;stroke-width:0.25;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1" />
    </clipPath>
    <clipPath
       clipPathUnits="userSpaceOnUse"
       id="clipPath3132">
      <rect
         rx="1.7773428"
         ry="1.7773428"
         y="5.9030943"
         x="4.9931726"
         height="83.086098"
         width="51.899281"
         id="rect3134"
         style="opacity:1;fill:#ba1111;fill-opacity:1;stroke:none;stroke-width:0.25;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1" />
    </clipPath>
    <radialGradient
       inkscape:collect="always"
       xlink:href="#linearGradient3168"
       id="radialGradient3170"
       cx="28.480661"
       cy="47.551796"
       fx="28.480661"
       fy="47.551796"
       r="11.432646"
       gradientTransform="matrix(-5.8580993,1.5887876,-2.2483455,-8.5593286,305.32963,409.20211)"
       gradientUnits="userSpaceOnUse" />
  </defs>
  <g
     inkscape:groupmode="layer"
     id="layer2"
     inkscape:label="BG"
     transform="translate(0,-0.76200123)"
     style="display:inline;opacity:1">
    <rect
       style="opacity:1;fill:#ffffff;fill-opacity:1;stroke:none;stroke-width:0.50800002;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       id="rect3174"
       width="65.126083"
       height="96.159828"
       x="-1.4967093"
       y="-0.90327418"
       rx="0"
       ry="0" />
    <rect
       style="opacity:0.087;fill:url(#radialGradient8403);fill-opacity:1;stroke:none;stroke-width:0.50800002;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       id="rect3162"
       width="51.881031"
       height="83.070457"
       x="5.0197468"
       y="5.9051642"
       rx="1.8842305"
       ry="1.8842305"
       clip-path="none" />
    <rect
       clip-path="none"
       ry="1.8842305"
       rx="1.8842305"
       y="5.9051642"
       x="5.0197468"
       height="83.070457"
       width="51.881031"
       id="rect8399"
       style="opacity:0.123;fill:url(#radialGradient3170);fill-opacity:1;stroke:none;stroke-width:0.50800002;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1" />
    <rect
       style="opacity:0;fill:url(#radialGradient1920);fill-opacity:1;stroke:none;stroke-width:0.31953287;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       id="rect1918"
       width="64.197723"
       height="106.30523"
       x="3.6064517"
       y="-16.383352"
       ry="2.3051808"
       rx="2.2386618"
       clip-path="url(#clipPath1926)" />
  </g>
  <g
     inkscape:label="Layer 1"
     inkscape:groupmode="layer"
     id="layer1"
     transform="translate(0,-203.78196)"
     style="display:inline">
    <path
       inkscape:connector-curvature="0"
       id="path3104"
       d="M 7.2981869,247.28097 H 54.771938"
       style="fill:none;stroke:#d01313;stroke-width:0.17780003;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:0.17780001, 0.35560005;stroke-dashoffset:0;stroke-opacity:1" />
    <path
       style="fill:none;stroke:#d01313;stroke-width:0.17780003;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:0.17780001, 0.35560005;stroke-dashoffset:0;stroke-opacity:1"
       d="M 7.2981869,283.66141 H 54.771938"
       id="path2705"
       inkscape:connector-curvature="0" />
    <path
       inkscape:connector-curvature="0"
       id="path2703"
       d="M 7.2981869,276.33286 H 54.771938"
       style="fill:none;stroke:#d01313;stroke-width:0.17780003;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:0.17780001, 0.35560005;stroke-dashoffset:0;stroke-opacity:1" />
    <path
       style="fill:none;stroke:#d01313;stroke-width:0.17780003;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:0.17780001, 0.35560005;stroke-dashoffset:0;stroke-opacity:1"
       d="M 7.2981869,269.05108 H 54.771938"
       id="path2701"
       inkscape:connector-curvature="0" />
    <path
       inkscape:connector-curvature="0"
       id="path2699"
       d="M 7.2981869,261.72253 H 54.771938"
       style="fill:none;stroke:#d01313;stroke-width:0.17780003;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:0.17780001, 0.35560005;stroke-dashoffset:0;stroke-opacity:1" />
    <path
       style="fill:none;stroke:#d01313;stroke-width:0.17780003;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:0.17780001, 0.35560005;stroke-dashoffset:0;stroke-opacity:1"
       d="M 7.2981869,254.48752 H 54.771938"
       id="path2697"
       inkscape:connector-curvature="0" />
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:900;font-stretch:normal;font-size:5.99722242px;line-height:1.25;font-family:'Verve Std';-inkscape-font-specification:'Verve Std, Heavy';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#d01313;fill-opacity:1;stroke:none;stroke-width:0.26458335"
       x="30.987848"
       y="216.97563"
       data-bind="text: rider_name"
       id="rider_name"></text>
    <text
       id="rider_nick"
       y="223.7594"
       x="30.988403"
       data-bind="text: rider_nick"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.47076941px;line-height:1.25;font-family:'Verve Std';-inkscape-font-specification:'Verve Std, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;opacity:0.9;fill:#000000;fill-opacity:0.87864075;stroke:none;stroke-width:0.26458338"
       xml:space="preserve"></text>
    <rect
       transform="rotate(90)"
       rx="0"
       ry="0"
       y="-45.155003"
       x="235.90764"
       height="0.21512878"
       width="54.06406"
       id="rect2066"
       style="opacity:1;fill:#d01313;fill-opacity:1;stroke:none;stroke-width:0.24172427;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1" />
    <text
       id="text2338"
       y="236.35316"
       x="-46.823509"
       style="font-style:normal;font-variant:normal;font-weight:500;font-stretch:normal;font-size:2.11666679px;line-height:1.25;font-family:Avenir;-inkscape-font-specification:'Avenir, Medium';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.26458335"
       xml:space="preserve"><tspan
         style="font-style:normal;font-variant:normal;font-weight:500;font-stretch:normal;font-size:2.11666679px;font-family:Avenir;-inkscape-font-specification:'Avenir, Medium';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;stroke-width:0.26458335"
         y="238.21523"
         x="-46.823509"
         id="tspan2336"
         sodipodi:role="line" /></text>
    <path
       style="fill:none;stroke:#d01313;stroke-width:0.17780003;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       d="M 7.2513266,235.80459 H 54.53808"
       id="path3102"
       inkscape:connector-curvature="0" />
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:500;font-stretch:normal;font-size:2.11666679px;line-height:1.25;font-family:Avenir;-inkscape-font-specification:'Avenir, Medium';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;opacity:0.75;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.26458335"
       x="45.919327"
       y="238.54073"
       id="text3108"><tspan
         sodipodi:role="line"
         id="tspan3106"
         x="45.919327"
         y="238.54073"
         style="font-style:normal;font-variant:normal;font-weight:500;font-stretch:normal;font-size:2.11666679px;font-family:Avenir;-inkscape-font-specification:'Avenir, Medium';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;stroke-width:0.26458335">Place</tspan></text>
    <text
       id="text3112"
       y="238.54073"
       x="7.5483699"
       style="font-style:normal;font-variant:normal;font-weight:500;font-stretch:normal;font-size:2.11666679px;line-height:1.25;font-family:Avenir;-inkscape-font-specification:'Avenir, Medium';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;opacity:0.75;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.26458335"
       xml:space="preserve"><tspan
         style="font-style:normal;font-variant:normal;font-weight:500;font-stretch:normal;font-size:2.11666679px;font-family:Avenir;-inkscape-font-specification:'Avenir, Medium';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;stroke-width:0.26458335"
         y="238.54073"
         x="7.5483699"
         id="tspan3110"
         sodipodi:role="line">Stage</tspan></text>
    <rect
       style="opacity:1;fill:#d01313;fill-opacity:1;stroke:none;stroke-width:0.24568938;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       id="rect3114"
       width="47.289715"
       height="0.40090421"
       x="7.248343"
       y="235.03526"
       ry="0"
       rx="0" />
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:900;font-stretch:normal;font-size:3.17500019px;line-height:1.25;font-family:'Verve Std';-inkscape-font-specification:'Verve Std, Heavy';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;opacity:0.9;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.26458335"
       x="7.4842129"
       y="233.39069"
       id="text3118"><tspan
         sodipodi:role="line"
         id="tspan3116"
         x="7.4842129"
         y="233.39069"
         style="font-style:normal;font-variant:normal;font-weight:900;font-stretch:normal;font-size:3.17500019px;font-family:'Verve Std';-inkscape-font-specification:'Verve Std, Heavy';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke-width:0.26458335">Race Log</tspan></text>
    <path
       inkscape:connector-curvature="0"
       id="path3124"
       d="M 7.2513266,240.03795 H 54.53808"
       style="fill:none;stroke:#d01313;stroke-width:0.17780003;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1" />
  </g>
</svg>
</div>

<div class="ui container">
  <div class="ui stackable grid">
    <div class="seven wide column">
      <canvas id="canvas" width="976" height="1468" style="display: none;"></canvas>
      <div id="png-container"></div>
    </div>
    <div class="five wide column" style="padding-top: 4rem;">
      <div class="ui form">
        <div class="field">
          <label>Rider</label>
          <input type="text" data-bind="textInput: rider_name"/>
        </div>
        <div class="field">
          <label>Nickname</label>
          <input type="text" data-bind="textInput: rider_nick"/>
        </div>
        <button class="ui button" data-bind="click: refresh, enable: dirty">Apply Changes</button>
        <button class="ui button" data-bind="click: randomize">Randomize!</button>
      </div>
      <br/><br/>
      <a class="ui large green button" id="download">Download PNG</a>
    </div>
    <div class="four wide column">
    </div>
  </div>
</div>

<script src="jquery-3.3.1.min.js"></script>
<script src="knockout-min.js"></script>
<script src="lodash.min.js"></script>

<script type="text/javascript">

let Generator = function(){
  let self = this;

  self.canvas      = document.getElementById("canvas");
  self.ctx         = canvas.getContext("2d");
  self.domurl      = window.URL || window.webkitURL || window;
  self.img         = new Image();
  self.paint_count = 0;

  self.rider_name = ko.observable();
  self.prev_name  = ko.observable();
  self.rider_nick = ko.observable();
  self.prev_nick  = ko.observable();

  self.refreshing = ko.observable(false);
  self.refresh = function(){
    if ( !self.refreshing() ){
      self.refreshing(true);
      let svgString = new XMLSerializer().serializeToString(document.querySelector('svg'));
      let svg = new Blob([svgString], {type: "image/svg+xml;charset=utf-8"});
      let url = self.domurl.createObjectURL(svg);
      self.img.onload = function() {
          self.ctx.drawImage(self.img, 0, 0, 976, 1468);
          let png = self.canvas.toDataURL("image/png");
          document.querySelector('#png-container').innerHTML = '<img class="ui rounded bordered fluid image" src="' + png + '"/>';
          document.getElementById('download').download = "flamme_rider_" + self.paint_count + ".png";
          document.getElementById('download').href = self.canvas.toDataURL("image/png");
          self.domurl.revokeObjectURL(png);
      };
      self.img.src = url;
      self.prev_name(self.rider_name());
      self.prev_nick(self.rider_nick());
      self.refreshing(false);
      self.paint_count += 1;
    }
  }

  self.first_names = ["Acacio","Adolfo","Adolphe","Aitor","Albert","Albert","Alberto","Alberto","Alberto","Aldo","Alejandro","Alessandro","Alf","Alfonsina","Alfred","Alfredo","Aloïs","Ambrogio","Andrea","Andrea","André","André","André","André","André","Andy","Angelo","Antonin","Antonin","Antonio","Antonio","Antonio","Aristidis","Arthur","August","Barry","Bart","Benedict","Bernard","Bernard","Bernard","Bernhard","Bert","Beryl","Bjarne","Bob","Briek","Cadel","Carlo","Charles","Charles","Charles","Charles","Charles","Charly","Christophe","Claudio","Claudio","Constant","Costante","Costante","Cyrille","Damiano","Daniele","Danilo","Davis","Diego","Djamolidine","Domenico","Domenico","Désiré","Eberardo","Eddy","Eddy","Edmond","Edouard","Edward","Edwig","Emanuele","Emile","Emilio","Enzo","Ercole","Eric","Eric","Ernest","Eugène","Evert","Fabian","Fabio","Fabio","Fausto","Federico","Felice","Felicien","Ferdy","Fernand","Fernand","Fernand","Fernando","Fiorenzo","Firmin","Flavio","Florent","Francesco","Francesco","Francesco","Francis","Francis","Franco","Franco","Franco","Frank","Frank","Frankie","Frans","Frans","Frans","François","François","François","Fred","Freddy","Frederick","Fritz","Félix","Gaetano","Gary","Gaston","Gastone","George","Georges","Georges","Georges","Georges","Georgios","Georgios","Gerrit","Gerrit","Gianni","Gibi","Gilbert","Gilberto","Gino","Giovanni","Giovanni","Giovanni","Giovanni","Giuseppe","Giuseppe","Giuseppe","Giuseppe","Giuseppe","Gosta","Graeme","Greg","Guglielmo","Guido","Guido","Gustave","Gustave","Harm","Harry","Hector","Hein","Hennie","Henri","Henri","Henri","Henri","Henri","Henrik","Henry","Herbert","Herman","Hernan","Hilaire","Hippolyte","Honoré","Hugo","Iban","Ivan","Ivan","Ivor","Jac","Jacques","Jacques","Jacquie","James","Jan","Jan","Jan","Jean","Jean","Jean","Jean","Jean","Jean","Jean","Jean","Jean","Jean-Baptiste","Jef","Jimmy","Johan","Johan","John","Joseba","Joseph","José","José-Maria","Juan","Jules","Julien","Julio","Karel","Karl-Heinz","Kevin","Knut","Konstantinos","Kurt","Lance","Laurent","Laurent","Learco","Leo","Leonard","Leonardo","Loretto","Louis","Louis","Louis","Louis","Louis","Louison","Luca","Lucien","Lucien","Lucien","Lucien","Lucien","Lucien","Ludo","Luigi","Luigi","Luis","Luis","Luis","Léon","Léon","Léon","Marc","Marcel","Marcel","Marcel","Marcel","Marco","Marco","Marco","Marco","Mario","Mario","Mario","Mario","Mark","Marshall","Martin","Maurice","Maurice","Maurice","Maurice","Maurice","Michael","Michael","Michael","Michele","Miguel","Miguel","Miltiades","Mirko","Moreno","Nicolas","Nino","Norbert","Octave","Odiel","Olaf","Olimpio","Omer","Oscar","Oscar","Ottavio","Paolo","Paolo","Paolo","Patrick","Paul","Pavel","Pedro","Peter","Phil","Phillipe","Pierre","Pierre-Marie","Piet","Ramón","Raphaël","Ray","Raymond","René","René","René","Riccardo","Rik","Rik","Rini","Roberto","Roberto","Roger","Roger","Roger","Roger","Roger","Roger","Roger","Rolf","Ron","Rudolph","Russell","Salvatore","Seamus","Sean","Silvio","Stan","Stefano","Stefano","Stephen","Sylvain","Sylvére","Thierry","Thomas","Thor","Todd","Tom","Tom","Tony","Tony","Tristan","Tullio","Tyler","Ugo","Urs","Vicente","Victor","Victor","Vincenzo","Walter","William","Willy","Wim","Wout","Ángel"];
  self.last_names  = ["Abdoujaparov","Aebersold","Aerts","Agostoni","Aimar","Alavoine","Allocchio","Amberg","Andersen","Andreu","Anglade","Anquetil","Anthonis","Archambaud","Argentin","Armstrong","Aspiotis","Aucouturier","Augereau","Bahamontes","Baldini","Bardonneau","Baronchelli","Bartali","Barthélémy","Bartoli","Basso","Battell","Bauvin","Beccia","Belloni","Beloki","Bennati","Bergaud","Berty","Bettini","Bevilacqua","Bidot","Binda","Bitossi","Bizzi","Bobet","Bobet","Bombini","Bonduel","Bontempi","Boonen","Booty","Bottecchia","Bowder","Brambilla","Britz","Brunero","Bruyneel","Buenahora","Bugno","Burton","Buysse","Campagnolo","Camusso","Cancellara","Canteloube","Caput","Carlesi","Carlsson","Casagrande","Casartelli","Casero","Casper","Catteau","Cavendish","Celestino","Chavanel","Chiappucci","Chiesa","Chioccioli","Christophe","Cipollini","Claveyrolat","Cloarec","Clément","Collins","Commesso","Contador","Conterno","Contini","Coppi","Cornet","Corrieri","Corti","Cosson","Couvreur","Cunego","Cuniolo","Da Silva","Danneels","Darrigade","de Cabooter","De Gribaldy","De Vlaeminck","De Waele","Declerck","Decock","Defilippis","Delgado","Demuysere","Di Luca","Dierckxsens","Diot","Dolman","Dortignacq","Dotto","Duboc","Dubuisson","Dupont","Dutrieu","Egg","Elliott","Engers","Escartín","Evans","Faber","Fachleitner","Fernández","Fignon","Fisher","Flameng","Flecha","Fontan","Forestier","Frantz","Freuler","Galetti","Ganna","Ganna","Garin","Garrigou","Garzelli","Gaul","Gauthier","Gauthier","Gerbi","Gimondi","Giovannetti","Girardengo","Giupponi","Godefroot","Gogulski","Gonzalez","Graczyk","Greipel","Groussard","Grubb","Gudex","Guerini","Guerra","Guimard","Géminiani","Hamel","Hamerlinck","Hamilton","Hammond","Hampsten","Hansen","Harris","Hassenforder","Hendrickx","Hererra","Herrera","Heusghem","Hinault","Hincapie","Hoban","Hoevenaers","Hoffman","Holland","Howard","Hushovd","Iatrou","Idée","Indurain","Jalabert","Janssen","Jiménez","Jiménez","Kaers","Kelly","Kerkhove","Kiefel","Kint","Knudsen","Koblet","Kolettis","Konstantinidis","Konstantinou","Kuiper","Kunde","Kübler","Lacquehay","Lambot","Lapize","Lapébie","Lazarides","Leblanc","Leducq","LeMond","Leoni","Lewis","Livingston","Longo","Louesse","Louyet","Ludwig","Luguet","Madiot","Maertens","Maes","Maffei","Magne","Magni","Mahé","Marinelli","Martano","Martin","Marvingt","Mathieu","Matton","Mayo","Mazan","Merckx","Mionske","Mockridge","Moineau","Moore","Moreau","Morelli","Moroni","Moser","Moser","Mottiat","Munro","Murphy ","Museeuw","Negrini","Nencini","Neuville","Nibali","Noè","Obree","Ockers","Olano","Ottenbros","Pagnin","Pantani","Parra","Passerieu","Pavesi","Payne","Pedersen","Pedon","Pellizotti","Pesenti","Petacchi","Petit-Breton ","Petrucci","Phelan","Phinney","Piemontesi","Piepoli","Pingeon","Pinotti","Planckaert","Planckaert","Poblet","Pothier","Pottier","Poulidor","Pozzovivo","Pélissier","Pélissier","Pélissier","Quaranta","Raas","Rasmussen","Rebry","Riccò","Riis","Rinehart","Robic","Roche","Rodríguez","Rolland","Rominger","Rompelberg","Ronsse","Rosola","Rujano","Santhià","Saronni","Savoldelli","Schallwig","Schotte","Schulte","Scieur","Scinto","Segato","Sellier","Sercu","Serpellini","Sevilla","Sheridan","Sieronski","Siguenza","Simon","Simoni","Simpson","Southall","Speicher","Stablinski","Stanley","Stenqvist","Stevens","Strada","Streb","Stöpel","Sáez","Sørensen","Tafi","Taylor ","Thys","Thys","Thévenet","Tonkov","Torsano","Torsano","Trousselier","Trueba","Twigg","Ulissi","Ullrich","Valverde","Van Breenen","Van Den Meerschaut","Van Est","Van Est","van Hooydonck","Van Impe","Van Kerckhove","Van Lerberghe","Van Looy","Van Meer","Van Petegem","Van Springel","Van Steenbergen","Vanderaerden","Vast","Verbeeck","Verhaegen","Vermandel","Vervaecke","Vicini","Vietto","Visentini","Vlaemynck","Volpi","von Gödrich","Voorting","Wagtmans","Wagtmans","Walkowiak","Watt","Wright","Zoet"];
  self.nouns       = ["1.21 volts","22,000 volts","51%","apple","apples","archer","architect","aristocrat","arrow","attack","teen elephant","badger","baker","bald","bandit","barber","barbie","barrel","basset hound","bib","birdie","biscuit","blonde","boar","bomb","boots","boss","bowler","boxer","boy","boy","breakfast","buffalo","bull","bulldog","bullet","burger","butcher","butterfly","buzzard","camel","cannibal","cardinal","money bag","chain","charger","chaser","cheeks","cheese","chemist","chick","chicken","climber","clog","clown","clydesdale","cobra","colonel","colossus","colt","commuter","condor","coq","corner","cossack","cowboy","crank","cricket","crybaby","cuckoo","cuddles","cyclist","cyclone","czar","death rider","delivery","descent","devil","diesel","dodger","dog","dolphin","draft","dragon","dwarf","eagle","eaglet","eel","emperor","engineer","englishman","enigma","executioner","express","face","falcon","farmer","fast train","father","feather","fender","fireball","fist","flame","flea","flyer","fool","force","fugitive","gardener","gaul","gazelle","gears","gentleman","ghost","giant","gimmick","gladiator","goat","god","gorilla","grandfather","greyhound","grind","gun","gypsy","hair","hammer","hat","head","heart","hermit","heron","hobbit","hood","horse","hunter","jaguar","jersey","jockey","johnny","kaiser","kid","killer","king","knight","lad","lance","lawyer","leatherhead","lemon","leopard","lightning","lily","lion","lion cub","lips","lizard","locomotive","lover","machine","magician","man","mason","mathemetician","meteor","metronome","mile","milkman","miller","miner","minister","minute","mirror","missile","mite","monk","monster","mountain","mouse","mud","napoleon","narwahl","norseman","number three","octopus","ogre","one","ox","pacemaker","page","panda","panther","panzerfaust","pedaler","phenomenon","pickle","pirate","pistol","plague","prince","professor","python","rascal","release","rifle","rooster","runt","saint","seagull","third","sensation","shark","shepard","sheriff","shorts","smasher","sock","sparrow","sphinx","spider","spike","spud","squirrel","stallion","stench","stopwatch","stretch","string","submarine","swifty","teeth","terminator","terror","tex","thrust","thunder","tickler","time","timekeeper","tonsils","tornado","tower","train","trench","tripod","trombone","tunnel","vintner","viscount","wader","warrior","watchmaker","weasel","weight","will","wind","wire","wookie","yapper","yo-yo"];
  self.adjectives  = ["aero","angel","automatic","babyface","backwards","bad","bald","barrel-chested","bearded","bent","big","black","blonde","blue","breakfast","broken","brown","captain","charming","chubby","coffee","corner","crafty","crazy","cuddly","curly","damp","dancing","divine","don","downhill","elegant","empty","english","eternal","fair","fat","favored","first","flat","flaunting","flemish","flying","forgotten","former","fragile","full","golden","gravel","greased","green","grey","grumpy","hairy","handsome","hard","human","iron","itchy","joyeaux","just","king","last","leather","lemon","lion","little","living","long","loosened","lower","mangy","mellow","metric","mineral","mini","mr.","naked","nice","no","noisy","norwegian","old","orange","panamanian","parisan","party","pedaling","piccolo","pink","pious","plodding","pocket","polite","proper","quick","quiet","rabid","rascally","rear","red","regular","roasted","rolling","rusty","sacred","saucy","second best","sensational","shaven","shiny","sicilian","silent","silver","slippery","small","sneezing","snowy","soft","speedy","spotless","strapping","striped","sturdy","sun","sunny","super","tawny","tender","tenth","thin","third","ticklish","tightened","tired","top","torchy","tufty","turbo","twin","underwater","usual","violent","violet","white","wild","wincing","wise","yellow"];
  self.locations   = ["Avila","Avrieux","Baca","Bagnes","Balen","Barichara","Basel","Bassano","Bellinzona","Bergamo","Bergen","Bessans","Bibbione","Bicycles","Bolzano","Cabasse","Charm","Cittiglio","Colombes","Como","Doussard","Earth","Eeklo","Fire","Firminy","Flanders","Forlí","Fougères","Friuli","Fénis","Grenoble","Heike","Heisenhorn","Hell","Hoogerheide","Ice","Iron","Jupille","Kiev","Koekelare","La Morte","La Salle","Lands Unknown","Legend","Lichtervelde","Lugano","Lyon","Manosque","Manx","Mont Blanc","Mont-de-Lans","Montlhéry","Monza","Mugello","Nature","Next door","Nowhere","Oslo","our Dreams","Palu di Giovo","Peyrehorade","Pistoia","Pontcharra","Schafberg","Sens","Seynod","Sicily","St. Séen","Tampa","Tashkent","Termignon","the Alps","the Andes","the Colonies","the Continent","the Descents","the East","the Future","the Hill","the Lombards","the North","the Pack","the Pyrenees","the Rockies","the South","the Strait","the Sun","the Track","the West","the Wilderness","the Wind","Thunder","Thunder bay","Toledo","Torrelavega","Treffort","Tressi","Trondheim","Turin","Törbel","Valence","Varsseveld","Venice","Verona","Vicenza","Vizille","Waco","Weisshorn","Winnipeg","Ypsilanti","Zambia"];
  self.get_name  = function(){
    return _.startCase( _.sample(self.first_names) + ' ' + _.sample(self.last_names) );
  };
  self.get_nick  = function(){
    let nick = '';
    if (Math.random() < 0.1){
      if (Math.random() < 0.6){
        nick = _.startCase( _.sample(self.nouns) );
      } else {
        nick = _.startCase( _.sample(self.adjectives) );
      }
    } else {
      nick = _.startCase( _.sample(self.adjectives) + ' ' + _.sample(self.nouns) );
      if (Math.random() < 0.4){
        let location = _.sample(self.locations)
        if (Math.random() < 0.4){
          location = " from " + location;
        } else {
          location = " of " + location;
        }
        nick = nick + location;
      }
    }
    if (Math.random() < 0.8){
      nick = "The " + nick;
    }
    return '« ' + nick + ' »';
  };

  self.randomize = function(){
    self.rider_name( self.get_name() );
    self.rider_nick( self.get_nick() );
    self.refresh();
  };

  self.dirty = ko.computed(function(){
    return self.rider_name() !== self.prev_name() || self.rider_nick() !== self.prev_nick();
  });

}

$( document ).ready( function() {
    window.gen = new Generator();
    ko.applyBindings( window.gen );
    gen.randomize();
});

</script>

</body>
</html>